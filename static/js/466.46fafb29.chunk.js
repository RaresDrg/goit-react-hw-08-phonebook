"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[466],{9291:function(t,n,e){e.d(n,{Z:function(){return o}});var r="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",a=e(184),o=function(t){var n=t.type,e=t.name,o=t.pattern,s=t.title,i=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,n="",e=crypto.getRandomValues(new Uint8Array(t));t--;)n+=r[63&e[t]];return n}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{htmlFor:i,children:e}),(0,a.jsx)("input",{type:n,name:e,id:i,pattern:o||null,title:s||null,autoComplete:"on",required:!0})]})}},6208:function(t,n,e){e.d(n,{Z:function(){return o}});var r="SubmitBtn_submitBtn__4n7HF",a=e(184),o=function(t){var n=t.text;return(0,a.jsx)("button",{className:r,type:"submit",children:n})}},9466:function(t,n,e){e.r(n),e.d(n,{default:function(){return B}});var r=e(7689),a=e(8627),o=e(1979),s=e(9291),i=e(6208),c=e(4420),l=e(3553),u=function(t){return t.contacts.isLoading},d=function(t){return t.contacts.error},p=function(t){return t.contacts.filter},f=function(t){return t.contacts.items},m=(0,l.P1)([f,p],(function(t,n){return t.filter((function(t){return t.name.toUpperCase().includes(n.toUpperCase())}))})),h=function(){return{isLoading:(0,c.v9)(u),error:(0,c.v9)(d),contacts:(0,c.v9)(f),filter:(0,c.v9)(p),filteredContacts:(0,c.v9)(m)}},x=e(3634),j=e(7840),v=e(184),_=function(){var t=(0,c.I0)(),n=h().contacts;return(0,v.jsxs)("div",{className:o.Z.phonebook,children:[(0,v.jsx)("h2",{children:"Phonebook"}),(0,v.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r=e.target,a=r.elements.name.value.trim().split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1,t.length).toLowerCase()})).join(" "),o=function(t){var n=t.padEnd(10,"9").split("");return n.length>10&&n.splice(10,n.length),n.splice(3,0,"-"),n.splice(7,0,"-"),n.join("")}(r.elements.number.value.trim());!function(t){return n.find((function(n){return n.name.toUpperCase()===t.toUpperCase()}))}(a)?t((0,x.uK)({name:a,number:o}))&&t((0,j.T)("")):alert('"'.concat(a,'" is already in contacts')),r.reset()},children:[(0,v.jsx)(s.Z,{type:"text",name:"name",pattern:"^[a-zA-Z]+(([' \\-][a-zA-Z ])?[a-zA-Z]*)*",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}),(0,v.jsx)(s.Z,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[\\-.\\s]?\\(?\\d{1,3}?\\)?[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}),(0,v.jsx)(i.Z,{text:"Add contact"})]})]})},b="ContactsPage_contacts__m3nnh",g="Contacts_contacts__Eg+6p",C=function(){var t=(0,c.I0)(),n=h().filter;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("label",{htmlFor:"filterInputId",children:"Find contacts by name"}),(0,v.jsx)("input",{onChange:function(n){t((0,j.T)(n.target.value))},type:"text",name:"filter",value:n,id:"filterInputId",autoComplete:"off",pattern:"^[a-zA-Z]+(([' \\-][a-zA-Z ])?[a-zA-Z]*)*",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})]})},y="ContactsList_contactsList__ZQI1L",Z=function(t){var n=t.contact,e=(0,c.I0)();return(0,v.jsxs)("li",{children:[(0,v.jsx)("span",{children:n.name}),": ",(0,v.jsx)("span",{children:n.number}),(0,v.jsx)("button",{onClick:function(){window.confirm('Delete "'.concat(n.name,'" from yout list ?'))&&e((0,x.GK)(n.id))},type:"button",children:"X"})]})},A="AbsentContactsNotification_notification__sX203",k=function(){var t=h().filter;return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("p",{className:A,children:""===t?"You haven't saved any contacts yet":' " '.concat(t,' " is not saved in your contacts list')})})},w=function(){var t=h().filteredContacts;return 0===t.length?(0,v.jsx)(k,{}):(0,v.jsx)("ul",{className:y,children:t.map((function(t){return(0,v.jsx)(Z,{contact:t},t.id)}))})},F=e(6154),I="LoadingSpinner_loadingSpinner__mZzDZ",L=function(){return(0,v.jsx)(F.g4,{visible:!0,height:"80",width:"80",color:"#4fa94d",radius:"9",ariaLabel:"three-dots-loading",wrapperClass:I})},N="ErrorAlert_Error__rwsaJ",z=function(t){var n=t.error;return(0,v.jsx)("p",{className:N,children:n})},P=e(2791),U=function(){var t=(0,c.I0)();(0,P.useEffect)((function(){t((0,x.yF)())}),[t]);var n=h(),e=n.isLoading,r=n.error,a="The contact list cannot be loaded due to the following error: ".concat(r," ");return(0,v.jsxs)("div",{className:g,children:[(0,v.jsx)("h2",{children:"Contacts"}),(0,v.jsx)(C,{}),e&&(0,v.jsx)(L,{}),r&&(0,v.jsx)(z,{error:a}),!e&&!r&&(0,v.jsx)(w,{})]})},S=function(){return(0,v.jsxs)("section",{className:b,children:[(0,v.jsx)(_,{}),(0,v.jsx)(U,{})]})},B=function(){return(0,a.Z)().isLoggedIn?(0,v.jsx)(S,{}):(0,v.jsx)(r.Fg,{to:"/login"})}},1979:function(t,n){n.Z={phonebook:"Phonebook_phonebook__A8MMG",authSection:"Phonebook_authSection__5PUBC"}}}]);
//# sourceMappingURL=466.46fafb29.chunk.js.map